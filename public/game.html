<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Novella App - Game</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Контейнер для фона и игры -->
  <div class="game-background">
    <!-- Основная игровая зона -->
    <div class="game-zone">
      <!-- Здесь разместится игровая логика -->
    </div>

    <!-- HUD (иконка монет и таймер) -->
    <div class="hud-game">
      <!-- Левый блок - монеты -->
      <div class="coins">
        <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1728938799/Novellacoin.png" alt="Coins"> <!-- Иконка монет -->
        <span id="coinCount">1,950</span> <!-- Количество монет -->
      </div>
      
      <!-- Правый блок - таймер -->
      <div class="timer-game">
        <span id="timer-game">0:30</span> <!-- Таймер -->
      </div>
    </div>
  </div>

  <script>
    // Таймер на 30 секунд
    let timerValue = 30;
    const timerElement = document.getElementById('timer-game');
    const coinCountElement = document.getElementById('coinCount');
  
    // Функция для обновления таймера каждую секунду
    function startTimer() {
      const timerInterval = setInterval(() => {
        if (timerValue > 0) {
          timerValue--;
          let minutes = Math.floor(timerValue / 60);
          let seconds = timerValue % 60;
          timerElement.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
        } else {
          clearInterval(timerInterval);
          showNotification('Время вышло!', true);
  
          // Запускаем таймер для перенаправления через 10 секунд
          setTimeout(() => {
            window.location.href = `/index.html?userId=${telegramId}`;
          }, 10000); // 10000 миллисекунд = 10 секунд
        }
      }, 1000);
    }
  
    // Функция для добавления монет
    function addCoins(amount) {
      let currentCoins = parseInt(coinCountElement.textContent.replace(/,/g, ''));
      coinCountElement.textContent = currentCoins + amount;
    }
  
    // Запуск таймера при загрузке страницы
    window.onload = startTimer;
  </script>
  <script src="/notifications.js"></script> <!-- Скрипт реферальной системы -->
  
</body>
</html>