<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Novella App - Leaderboard</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div class="leaders-page">
    <header class="leaderboard-header">
        <!-- Иконка Leaderboard -->
        <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1726003706/Element/Leaderboard.png" alt="Leaderboard Icon" class="leaderboard-icon">
		
        <!-- Заголовок Leaderboard -->
        <h1 class="leaderboard-title">LEADERBOARD</h1>
		
        <!-- Описание ниже заголовка -->
        <p class="leader-subtitle" id="leader-subtitle">The list of the best users, break into the top!</p>
    </header>
    
    <!-- Закругленный блок с личной стаитиской: avatar, username, token-balance и rank -->
    <div class="user-info-block">
        <img src="https://sun9-63.userapi.com/impg/TIpJIGYq1_oPXv71w2_8pP5W_i411FByDeGfxA/hzK7C9aRykc.jpg?size=799x800&quality=95&sign=216297ffd8f6f0ccdca6fd5dab00d67a&type=album" alt="User Avatar" class="user-avatar">
        <div class="user-details">
            <span class="username">Username</span>
            <span class="top-token-balance">Balance</span>
        </div>
        <span class="user-rank">#Rank</span>
    </div>

    <!-- Кнопка Boost score -->
    <button class="boost-score-button">
        <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1727809100/Element/Fire.png" alt="Boost Icon" class="button-icon">
        Boost score
    </button>

    <script>
        // Добавляем обработчик события click на кнопку
        document.querySelector('.boost-score-button').addEventListener('click', function() {
            // Переход на страницу task.html
            window.location.href = 'task.html';
        });
    </script>
    
    <!-- Текст Total users -->
    <p class="total-users">0</p>

    <!-- Текст топ-100 -->
    <p class="title-top100">TOP 100</p>

    <!-- Контейнер для секции топ-100 -->
    <div class="top100-container">
        <!-- Блоки пользователей будут добавлены динамически через JavaScript -->
    </div>
    
	<!-- Нижнее меню -->
    <nav class="bottom-menu">
        <a href="index.html" class="menu-item">
            <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1726420961/Menu/Button%20version%202/Main_iconmenu.png" alt="Main">
            <span id="menu-main">Main</span>
        </a>
        <a href="task.html" class="menu-item">
            <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1726420961/Menu/Button%20version%202/Task_iconmenu.png" alt="Task">
            <span id="menu-task">Task</span>
        </a>
        <a href="friends.html" class="menu-item">
            <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1726937838/Menu/Button%20version%202/Friends.png" alt="Friends">
            <span id="menu-friends">Friends</span>
        </a>
        <a href="airdrop.html" class="menu-item">
            <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1726420961/Menu/Button%20version%202/Airdrop_iconmenu.png" alt="Airdrop">
            <span id="menu-airdrop">Airdrop</span>
        </a>
        <a href="leaders.html" class="menu-item active">
            <img src="https://res.cloudinary.com/dvjohgg6j/image/upload/v1726420961/Menu/Button%20version%202/Leaders_iconmenu.png" alt="Leaders">
            <span id="menu-leaders">Leaders</span>
        </a>
    </nav>

    <!-- Скрипт локализации -->    
    <script src="/localization.js"></script>

	<!-- Подключение скриптов -->
		<script src="/totaluser.js"></script>
		<script src="/topuser.js"></script>
		<script src="/topstats.js"></script>   
    <!-- DOMContentLoaded -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetchTotalUsers();   // для totaluser.js
            getTopUsers();       // для topuser.js
            getYourStats();      // для topstats.js
        });
    </script>

    <!-- Анимация набора текста -->
    <script>
        const titleElement = document.querySelector('.leaderboard-title');
        const text = titleElement.textContent; // Получаем текст заголовка
        titleElement.textContent = ''; // Очищаем текст

        let index = 0;

        function type() {
            if (index < text.length) {
                titleElement.textContent += text.charAt(index);
                index++;
                setTimeout(type, 200); // Задержка между символами (200 мс)
            } else {
                setTimeout(() => {
                    // Очищаем текст для повторного набирания
                    titleElement.textContent = '';
                    index = 0;
                    type(); // Начинаем снова
                }, 4000); // Задержка перед повторным набором (4000 мс)
            }
        }

        // Объединяем все анимации при загрузке страницы
        window.onload = function() {
            // Запускаем анимацию текста
            type();

            // Анимация кнопки при загрузке страницы
            const button = document.querySelector('.boost-score-button');
            setTimeout(() => {
                button.classList.add('active');
            }, 100); // Задержка 0.1 сек для плавности

            // Анимация блока статистики при загрузке страницы
            const userInfoBlock = document.querySelector('.user-info-block');
            setTimeout(() => {
                userInfoBlock.classList.add('active');
            }, 200); // Задержка 0.2 сек для плавности
        };
    </script>
</body>
</html>